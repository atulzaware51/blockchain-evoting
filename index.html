<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Blockchain E-Voting System - Democratic, Transparent, Secure">
    <title>BlockVote | Blockchain E-Voting System</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <canvas class="bg-canvas" id="particleCanvas"></canvas>
    
    <!-- Navigation -->
    <div class="nav-container">
        <nav class="navbar">
            <div class="logo-section" onclick="navigateTo('landing')">
                <div class="logo-icon"><i class="fas fa-shield-halved"></i></div>
                <div class="logo-text">BLOCKVOTE</div>
            </div>
            
            <ul class="nav-menu" id="navMenu">
                <li class="nav-item active" onclick="navigateTo('landing')" data-view="landing">
                    <i class="fas fa-home"></i><span>Home</span>
                </li>
                <li class="nav-item" onclick="showRoleSelection()" data-view="role-selection">
                    <i class="fas fa-sign-in-alt"></i><span>Register/Login</span>
                </li>
            </ul>
            
            <div class="hamburger" id="hamburger" onclick="toggleMobileMenu()">
                <span></span><span></span><span></span>
            </div>
        </nav>
    </div>
    
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <ul class="sidebar-nav" id="sidebarNav">
            <li class="sidebar-item active" onclick="navigateTo('landing')" data-view="landing">
                <i class="fas fa-home"></i><span>Home</span>
            </li>
            <li class="sidebar-item" onclick="showRoleSelection()" data-view="role-selection">
                <i class="fas fa-user-plus"></i><span>Register/Login</span>
            </li>
        </ul>
    </aside>
    
    <button class="toggle-sidebar-btn" id="toggleSidebar" onclick="toggleSidebar()">
        <i class="fas fa-bars"></i>
    </button>
    
    <main class="main-content" id="mainContent">
        
        <!-- 1. LANDING PAGE -->
        <div class="view active" id="landing">
            <div class="hero">
                <h1 class="hero-title">BLOCKCHAIN VOTING SYSTEM</h1>
                <p class="hero-subtitle">// DEMOCRATIC ‚Ä¢ TRANSPARENT ‚Ä¢ IMMUTABLE //</p>
                
                <div class="hero-features">
                    <div class="feature-badge"><i class="fas fa-lock feature-icon"></i><span>SHA-256 Encrypted</span></div>
                    <div class="feature-badge"><i class="fas fa-database feature-icon"></i><span>Decentralized Ledger</span></div>
                    <div class="feature-badge"><i class="fas fa-shield-alt feature-icon"></i><span>Tamper-Proof</span></div>
                    <div class="feature-badge"><i class="fas fa-check-double feature-icon"></i><span>Verified</span></div>
                </div>
                
                <div class="hero-cta">
                    <button class="btn btn-primary" onclick="showRoleSelection()">
                        <i class="fas fa-user-plus"></i><span>Get Started</span>
                    </button>
                </div>
            </div>
            
            <div class="info-section">
                <h2 class="section-title">How It Works</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <div class="info-icon blue"><i class="fas fa-user-check"></i></div>
                        <h3>Register & Get Approved</h3>
                        <p>Voters and parties register. Election conductor verifies and approves participants.</p>
                    </div>
                    <div class="info-card">
                        <div class="info-icon green"><i class="fas fa-vote-yea"></i></div>
                        <h3>Cast Your Vote</h3>
                        <p>Approved voters cast their vote during active elections. One person, one vote guaranteed.</p>
                    </div>
                    <div class="info-card">
                        <div class="info-icon red"><i class="fas fa-lock"></i></div>
                        <h3>Blockchain Security</h3>
                        <p>Every vote is encrypted with SHA-256 and stored immutably on the blockchain ledger.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 2. ROLE SELECTION -->
        <div class="view" id="role-selection">
            <h1 class="page-title">Select Your Role</h1>
            <p class="text-center text-muted mb-3">Choose how you want to participate</p>
            
            <div class="role-grid">
                <div class="role-card" onclick="navigateTo('voter-register')">
                    <i class="fas fa-user-check"></i>
                    <h3>Voter</h3>
                    <p>Register to cast your vote</p>
                </div>
                <div class="role-card" onclick="navigateTo('party-register')">
                    <i class="fas fa-flag"></i>
                    <h3>Party Representative</h3>
                    <p>Register your party</p>
                </div>
                <div class="role-card" onclick="navigateTo('conductor-login')">
                    <i class="fas fa-user-shield"></i>
                    <h3>Election Conductor</h3>
                    <p>Manage elections</p>
                </div>
            </div>
        </div>
        
        <!-- 3. VOTER REGISTRATION -->
        <div class="view" id="voter-register">
            <div class="form-container">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-user-plus"></i>
                        <h2>VOTER REGISTRATION</h2>
                        <p>Register to participate in elections</p>
                    </div>
                    
                    <form onsubmit="handleVoterRegistration(event)">
                        <div class="form-group">
                            <label class="form-label">Full Name</label>
                            <input type="text" class="form-input" id="voterName" placeholder="Enter your full name" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Email Address</label>
                            <input type="email" class="form-input" id="voterEmail" placeholder="your.email@example.com" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Voter ID Number</label>
                            <input type="text" class="form-input" id="voterIdNumber" placeholder="Enter your government voter ID" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Date of Birth</label>
                            <input type="date" class="form-input" id="voterDOB" required>
                        </div>
                        
                        <button type="submit" class="btn btn-primary btn-block">
                            <i class="fas fa-paper-plane"></i><span>Register</span>
                        </button>
                    </form>
                    
                    <p class="text-center mt-2 text-muted">
                        Already registered? <a href="#" onclick="navigateTo('voter-login'); return false;" class="link-primary">Login here</a>
                    </p>
                </div>
            </div>
        </div>
        
        <!-- 4. VOTER LOGIN -->
        <div class="view" id="voter-login">
            <div class="form-container">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-sign-in-alt"></i>
                        <h2>VOTER LOGIN</h2>
                        <p>Access your dashboard</p>
                    </div>
                    
                    <form onsubmit="handleVoterLogin(event)">
                        <div class="form-group">
                            <label class="form-label">Email or Voter ID</label>
                            <input type="text" class="form-input" id="voterLoginId" placeholder="Enter your email or voter ID" required>
                        </div>
                        
                        <button type="submit" class="btn btn-primary btn-block">
                            <i class="fas fa-paper-plane"></i><span>Send OTP</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- 5. OTP VERIFICATION -->
        <div class="view" id="otp-verify">
            <div class="form-container">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-shield-halved"></i>
                        <h2>OTP VERIFICATION</h2>
                        <p>Enter the 6-digit code</p>
                    </div>
                    
                    <div class="otp-group">
                        <input type="text" class="otp-digit" maxlength="1" id="otp1" oninput="moveToNext(this, 'otp2')">
                        <input type="text" class="otp-digit" maxlength="1" id="otp2" oninput="moveToNext(this, 'otp3')">
                        <input type="text" class="otp-digit" maxlength="1" id="otp3" oninput="moveToNext(this, 'otp4')">
                        <input type="text" class="otp-digit" maxlength="1" id="otp4" oninput="moveToNext(this, 'otp5')">
                        <input type="text" class="otp-digit" maxlength="1" id="otp5" oninput="moveToNext(this, 'otp6')">
                        <input type="text" class="otp-digit" maxlength="1" id="otp6">
                    </div>
                    
                    <div class="timer-display">
                        <i class="fas fa-clock"></i><span id="otpTimer">01:30</span>
                    </div>
                    
                    <button class="btn btn-primary btn-block mb-2" onclick="verifyOTP()">
                        <i class="fas fa-check"></i><span>Verify OTP</span>
                    </button>
                    
                    <button class="btn btn-secondary btn-block" onclick="resendOTP()">
                        <i class="fas fa-redo"></i><span>Resend OTP</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- 6. VOTER PROFILE -->
        <div class="view" id="voter-profile">
            <div class="form-container profile-container">
                <div class="card">
                    <div class="profile-header">
                        <div class="profile-avatar"><i class="fas fa-user"></i></div>
                        <div class="profile-info">
                            <h2 id="profileName">Loading...</h2>
                            <p class="text-muted" id="profileEmail">email@example.com</p>
                        </div>
                    </div>
                    
                    <div class="profile-details">
                        <div class="detail-row">
                            <span class="detail-label">Voter ID</span>
                            <span class="detail-value" id="profileVoterId">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Eligibility Status</span>
                            <span id="profileEligibility">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Voting Status</span>
                            <span id="profileVotingStatus">-</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Blockchain Secret Key</span>
                            <div class="secret-key-box">
                                <code id="profileSecretKey">-</code>
                                <button class="btn-copy-key" onclick="copySecretKey()">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                        </div>
                        <div class="detail-row" id="voteHashRow" style="display: none;">
                            <span class="detail-label">Vote Transaction Hash</span>
                            <code id="profileVoteHash" style="font-size: 0.85rem; word-break: break-all;">-</code>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Registered On</span>
                            <span class="detail-value" id="profileRegDate">-</span>
                        </div>
                    </div>
                    
                    <div class="mt-3" id="profileActions">
                        <button class="btn btn-primary btn-block mb-2" onclick="navigateTo('voter-dashboard')">
                            <i class="fas fa-vote-yea"></i><span>Go to Voting</span>
                        </button>
                        <button class="btn btn-secondary btn-block" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i><span>Logout</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 7. VOTER DASHBOARD -->
        <div class="view" id="voter-dashboard">
            <div class="dashboard-header">
                <h1>CAST YOUR VOTE</h1>
                <div id="electionInfo"></div>
            </div>
            
            <div class="candidates-grid" id="candidatesList">
                <!-- Populated by JavaScript -->
            </div>
        </div>
        
        <!-- 8. VOTE CONFIRMATION -->
        <div class="view" id="vote-confirmation">
            <div class="success-container">
                <div class="success-icon-wrapper"><i class="fas fa-check"></i></div>
                <h1 class="success-title">VOTE SUBMITTED!</h1>
                <p class="success-subtitle">Your vote has been recorded on the blockchain</p>
                
                <div class="checklist">
                    <div class="checklist-item">
                        <i class="fas fa-check-circle checklist-icon"></i>
                        <span>Vote Encrypted with SHA-256</span>
                    </div>
                    <div class="checklist-item">
                        <i class="fas fa-check-circle checklist-icon"></i>
                        <span>Digital Signature Applied</span>
                    </div>
                    <div class="checklist-item">
                        <i class="fas fa-check-circle checklist-icon"></i>
                        <span>Added to Blockchain Ledger</span>
                    </div>
                </div>
                
                <div class="hash-container">
                    <div class="hash-label">TRANSACTION HASH</div>
                    <div class="hash-value" id="transactionHash"></div>
                    <button class="copy-hash-btn" onclick="copyHash()">
                        <i class="fas fa-copy"></i> COPY
                    </button>
                </div>
                
                <button class="btn btn-primary mt-3" onclick="navigateTo('voter-profile')">
                    <i class="fas fa-user"></i><span>View Profile</span>
                </button>
            </div>
        </div>
        
        <!-- 9. PARTY REGISTRATION -->
        <div class="view" id="party-register">
            <div class="form-container">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-flag"></i>
                        <h2>PARTY REGISTRATION</h2>
                        <p>Register your political party</p>
                    </div>
                    
                    <form onsubmit="handlePartyRegistration(event)">
                        <div class="form-group">
                            <label class="form-label">Party Name</label>
                            <input type="text" class="form-input" id="partyName" placeholder="Enter party name" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Candidate Name</label>
                            <input type="text" class="form-input" id="candidateName" placeholder="Name of the candidate" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Position</label>
                            <input type="text" class="form-input" id="candidatePosition" placeholder="e.g., President, Member, etc." required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Party Symbol</label>
                            <select class="form-input" id="partySymbol" required>
                                <option value="">Choose a symbol</option>
                                <option value="fa-star">‚≠ê Star</option>
                                <option value="fa-flag">üö© Flag</option>
                                <option value="fa-heart">‚ù§Ô∏è Heart</option>
                                <option value="fa-tree">üå≤ Tree</option>
                                <option value="fa-sun">‚òÄÔ∏è Sun</option>
                                <option value="fa-moon">üåô Moon</option>
                                <option value="fa-leaf">üçÉ Leaf</option>
                                <option value="fa-hand-peace">‚úåÔ∏è Peace</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Contact Email</label>
                            <input type="email" class="form-input" id="partyEmail" placeholder="party@email.com" required>
                        </div>
                        
                        <button type="submit" class="btn btn-primary btn-block">
                            <i class="fas fa-paper-plane"></i><span>Submit for Approval</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- 10. CONDUCTOR LOGIN -->
        <div class="view" id="conductor-login">
            <div class="form-container">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-user-shield"></i>
                        <h2>CONDUCTOR LOGIN</h2>
                        <p>Election Administration Access</p>
                    </div>
                    
                    <form onsubmit="handleConductorLogin(event)">
                        <div class="form-group">
                            <label class="form-label">Admin Email</label>
                            <input type="email" class="form-input" id="conductorEmail" value="admin@election.gov">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <input type="password" class="form-input" id="conductorPassword" value="admin123">
                        </div>
                        
                        <button type="submit" class="btn btn-primary btn-block">
                            <i class="fas fa-sign-in-alt"></i><span>Login</span>
                        </button>
                    </form>
                    
                    <div class="info-box mt-2">
                        <i class="fas fa-info-circle"></i>
                        <p><strong>Demo Credentials:</strong><br>Email: admin@election.gov<br>Password: admin123</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 11. CONDUCTOR DASHBOARD -->
        <div class="view" id="conductor-dashboard">
            <h1 class="page-title">ELECTION CONTROL PANEL</h1>
            
            <!-- Notifications -->
            <div class="notification-banner" id="notificationBanner" style="display: none;">
                <i class="fas fa-bell"></i>
                <span id="notificationText">You have new pending approvals!</span>
                <button onclick="clearNotifications()">‚úï</button>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon blue"><i class="fas fa-users"></i></div>
                    <div class="stat-value" id="statApprovedVoters">0</div>
                    <div class="stat-label">Approved Voters</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon red"><i class="fas fa-user-clock"></i></div>
                    <div class="stat-value" id="statPendingVoters">0</div>
                    <div class="stat-label">Pending Voters</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon green"><i class="fas fa-flag-checkered"></i></div>
                    <div class="stat-value" id="statApprovedParties">0</div>
                    <div class="stat-label">Approved Parties</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon red"><i class="fas fa-clock"></i></div>
                    <div class="stat-value" id="statPendingParties">0</div>
                    <div class="stat-label">Pending Parties</div>
                </div>
            </div>
            
            <!-- Tabs -->
            <div class="tabs">
                <button class="tab-btn active" onclick="switchTab('voters')">Voter Approvals</button>
                <button class="tab-btn" onclick="switchTab('parties')">Party Approvals</button>
                <button class="tab-btn" onclick="switchTab('elections')">Create Election</button>
                <button class="tab-btn" onclick="switchTab('votes')">Vote Records</button>
            </div>
            
            <div id="tabContent">
                <!-- Content loaded dynamically -->
            </div>
        </div>
        
    </main>
    
    <!-- OTP Modal -->
    <div class="otp-modal" id="otpModal">
        <div class="otp-modal-content">
            <div class="otp-modal-header">
                <i class="fas fa-envelope-open-text"></i>
                <h3>OTP Sent Successfully!</h3>
            </div>
            <div class="otp-modal-body">
                <p>Your One-Time Password:</p>
                <div class="otp-code-display">
                    <span class="otp-label">OTP Code:</span>
                    <span class="otp-code" id="otpCodeDisplay">123456</span>
                </div>
                <p class="otp-note">‚ö†Ô∏è Demo mode - In production, OTP sent via email/SMS</p>
            </div>
            <button class="btn btn-primary" onclick="closeOTPModal()">
                <i class="fas fa-check"></i><span>Got It</span>
            </button>
        </div>
    </div>
    
    <!-- Footer -->
    <footer class="creator-footer">
        <div class="footer-container">
            <div class="footer-section">
                <h4>Project Information</h4>
                <p><strong>Project:</strong> Blockchain E-Voting System</p>
                <p><strong>Type:</strong> Internship Project</p>
                <p><strong>Year:</strong> 2026</p>
            </div>
            <div class="footer-section">
                <h4>Developer Contact</h4>
                <p><i class="fas fa-user"></i> <strong>Name:</strong> [Your Name]</p>
                <p><i class="fas fa-envelope"></i> developer@blockvote.com</p>
                <p><i class="fas fa-phone"></i> +91 XXXXX XXXXX</p>
            </div>
            <div class="footer-section">
                <h4>Institution</h4>
                <p><strong>College:</strong> [Your College Name]</p>
                <p><strong>Department:</strong> Computer Science</p>
                <p><strong>Duration:</strong> Jan 2026 - Jun 2026</p>
            </div>
            <div class="footer-section">
                <h4>Technologies</h4>
                <p>‚Ä¢ HTML5, CSS3, JavaScript</p>
                <p>‚Ä¢ Blockchain Simulation</p>
                <p>‚Ä¢ SHA-256 Encryption</p>
                <p>‚Ä¢ LocalStorage Database</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2026 BlockVote System. Educational Project.</p>
            <p><strong>Note:</strong> Ganache not required - Using browser localStorage</p>
        </div>
    </footer>
    
    <button class="scroll-to-top" id="scrollToTop" onclick="scrollToTop()">
        <i class="fas fa-arrow-up"></i>
    </button>
    
    <script src="script.js"></script>
</body>
</html>
